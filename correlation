def plot_correlation_matrix(dataframe, top_n=20):
    """Plot heatmap showing correlations between features"""
    numeric_data = dataframe.select_dtypes(include=['number'])
    correlation_matrix = numeric_data.corr()
    
    # Get top N features most correlated with target
    target_corr = correlation_matrix['ACTIVE_DAYS_IN_WEEK'].abs().sort_values(ascending=False)
    top_features = target_corr.head(top_n).index.tolist()
    
    # Filter correlation matrix to only top features
    filtered_corr = correlation_matrix.loc[top_features, top_features]
    
    # Create heatmap
    plt.figure(figsize=(14, 12))
    sns.heatmap(filtered_corr, annot=True, fmt='.2f', cmap='coolwarm',
                center=0, square=True, linewidths=0.5, 
                cbar_kws={"shrink": 0.8},
                annot_kws={"size": 8})
    plt.title(f'Top {top_n} Features - Correlation Matrix', fontsize=16, pad=20)
    plt.xticks(rotation=45, ha='right')
    plt.yticks(rotation=0)
    plt.tight_layout()
    plt.show()
    
    # Print correlations with target
    print("\nCorrelation with Target (ACTIVE_DAYS_IN_WEEK):")
    print("=" * 60)
    for feature, corr_value in target_corr.head(top_n).items():
        print(f"{feature}: {corr_value:.4f}")

plot_correlation_matrix(df, top_n=15)
